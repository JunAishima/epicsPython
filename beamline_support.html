
<!doctype html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module beamline_support</title>
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>beamline_support</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/h/backed-up/pxsys/skinner/epics_python/beamline_support.py">/h/backed-up/pxsys/skinner/epics_python/beamline_support.py</a></font></td></tr></table>
    <p><tt>#John&nbsp;Skinner<br>
#beamline&nbsp;support&nbsp;library<br>
#Common&nbsp;motor,&nbsp;counter,&nbsp;and&nbsp;scanning&nbsp;utilities<br>
#code&nbsp;based&nbsp;on&nbsp;GSECARS&nbsp;Python&nbsp;Library&nbsp;from&nbsp;Mark&nbsp;Rivers</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#fffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="Scan.html">Scan</a><br>
<a href="ca.html">ca</a><br>
</td><td width="25%" valign=top><a href="exceptions.html">exceptions</a><br>
<a href="os.html">os</a><br>
</td><td width="25%" valign=top><a href="sys.html">sys</a><br>
<a href="time.html">time</a><br>
</td><td width="25%" valign=top><a href="types.html">types</a><br>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-GScan"><strong>GScan</strong></a>(motcode)</dt></dl>
 <dl><dt><a name="-add_callback"><strong>add_callback</strong></a>(pv, callback_name, user_args)</dt></dl>
 <dl><dt><a name="-ascan"><strong>ascan</strong></a>(motcode)</dt><dd><tt>#scan&nbsp;a&nbsp;motor&nbsp;from&nbsp;start&nbsp;to&nbsp;end&nbsp;and&nbsp;leave&nbsp;the&nbsp;motor&nbsp;where&nbsp;it&nbsp;was&nbsp;before&nbsp;command&nbsp;was&nbsp;issued</tt></dd></dl>
 <dl><dt><a name="-datafile"><strong>datafile</strong></a>(filename)</dt><dd><tt>#sets&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;file&nbsp;that&nbsp;a&nbsp;scan&nbsp;writes&nbsp;to</tt></dd></dl>
 <dl><dt><a name="-do_count"><strong>do_count</strong></a>(time_to_count<font color="#909090">=0</font>)</dt><dd><tt>#count&nbsp;for&nbsp;time_to_count&nbsp;seconds</tt></dd></dl>
 <dl><dt><a name="-dscan"><strong>dscan</strong></a>(motcode)</dt><dd><tt>#scan&nbsp;a&nbsp;motor&nbsp;relative&nbsp;to&nbsp;current&nbsp;position&nbsp;and&nbsp;leave&nbsp;the&nbsp;motor&nbsp;at&nbsp;that&nbsp;position&nbsp;when&nbsp;done</tt></dd></dl>
 <dl><dt><a name="-dump_mots"><strong>dump_mots</strong></a>(dump_filename)</dt><dd><tt>#dumps&nbsp;motor&nbsp;parameters&nbsp;to&nbsp;a&nbsp;file.&nbsp;Used&nbsp;for&nbsp;creating&nbsp;scan&nbsp;file&nbsp;headers</tt></dd></dl>
 <dl><dt><a name="-fly_scan"><strong>fly_scan</strong></a>(half_scan_width, stepsize, counter_number, count_time, motcode, real_motcodes)</dt></dl>
 <dl><dt><a name="-get_any_epics_pv"><strong>get_any_epics_pv</strong></a>(pv_prefix, field_name)</dt><dd><tt>#convenience&nbsp;to&nbsp;set&nbsp;a&nbsp;pv&nbsp;value&nbsp;given&nbsp;the&nbsp;name</tt></dd></dl>
 <dl><dt><a name="-get_count_time"><strong>get_count_time</strong></a>()</dt></dl>
 <dl><dt><a name="-get_counts"><strong>get_counts</strong></a>(time_to_count<font color="#909090">=0</font>)</dt></dl>
 <dl><dt><a name="-get_motor_code"><strong>get_motor_code</strong></a>(beamline_desginated_code)</dt></dl>
 <dl><dt><a name="-get_motor_pos"><strong>get_motor_pos</strong></a>(motcode)</dt></dl>
 <dl><dt><a name="-get_scan_points"><strong>get_scan_points</strong></a>(motcode)</dt></dl>
 <dl><dt><a name="-get_scanstepsize"><strong>get_scanstepsize</strong></a>(motcode)</dt></dl>
 <dl><dt><a name="-init_beamline"><strong>init_beamline</strong></a>()</dt><dd><tt>#initializes&nbsp;epics&nbsp;motors&nbsp;and&nbsp;counter&nbsp;based&nbsp;on&nbsp;the&nbsp;file&nbsp;pointed&nbsp;to&nbsp;by&nbsp;$EPICS_BEAMLINE_INFO<br>
#Below&nbsp;this&nbsp;line&nbsp;is&nbsp;an&nbsp;example&nbsp;beamline&nbsp;info&nbsp;file,&nbsp;(remove&nbsp;one&nbsp;'#'&nbsp;off&nbsp;the&nbsp;front&nbsp;of&nbsp;each&nbsp;line)<br>
##beamline_designation<br>
#x12c<br>
##real&nbsp;motors<br>
#tv1&nbsp;table_vert1<br>
#tv2&nbsp;table_vert2<br>
#mon&nbsp;monochromator<br>
##virtual&nbsp;motors<br>
#tbv&nbsp;table_vert<br>
##scanned&nbsp;motors<br>
#mon<br>
#tbv<br>
##counters<br>
#scaler1&nbsp;main_counter</tt></dd></dl>
 <dl><dt><a name="-init_counters"><strong>init_counters</strong></a>()</dt></dl>
 <dl><dt><a name="-init_motors"><strong>init_motors</strong></a>()</dt></dl>
 <dl><dt><a name="-init_scanparms"><strong>init_scanparms</strong></a>()</dt></dl>
 <dl><dt><a name="-is_soft_motor"><strong>is_soft_motor</strong></a>(mcode)</dt></dl>
 <dl><dt><a name="-load_and_go_scan_parms"><strong>load_and_go_scan_parms</strong></a>(motcode)</dt></dl>
 <dl><dt><a name="-load_scan_parms"><strong>load_scan_parms</strong></a>(motcode)</dt></dl>
 <dl><dt><a name="-maketrans"><strong>maketrans</strong></a>(...)</dt><dd><tt><a href="#-maketrans">maketrans</a>(frm,&nbsp;to)&nbsp;-&gt;&nbsp;string<br>
&nbsp;<br>
Return&nbsp;a&nbsp;translation&nbsp;table&nbsp;(a&nbsp;string&nbsp;of&nbsp;256&nbsp;bytes&nbsp;long)<br>
suitable&nbsp;for&nbsp;use&nbsp;in&nbsp;string.translate.&nbsp;&nbsp;The&nbsp;strings&nbsp;frm&nbsp;and&nbsp;to<br>
must&nbsp;be&nbsp;of&nbsp;the&nbsp;same&nbsp;length.</tt></dd></dl>
 <dl><dt><a name="-motor_code_from_descriptor"><strong>motor_code_from_descriptor</strong></a>(descriptor)</dt></dl>
 <dl><dt><a name="-mva"><strong>mva</strong></a>(*args)</dt><dd><tt>#absolute&nbsp;simultaneous&nbsp;move&nbsp;of&nbsp;multiple&nbsp;motors<br>
#usage&nbsp;example:&nbsp;mva&nbsp;mon&nbsp;1.0&nbsp;tv2&nbsp;0.5</tt></dd></dl>
 <dl><dt><a name="-mvf"><strong>mvf</strong></a>(motcode, counter_num)</dt></dl>
 <dl><dt><a name="-mvr"><strong>mvr</strong></a>(*args)</dt><dd><tt>#relative&nbsp;simultaneous&nbsp;move&nbsp;of&nbsp;multiple&nbsp;motors<br>
#usage&nbsp;example:&nbsp;mvr&nbsp;mon&nbsp;1.0&nbsp;tv2&nbsp;0.5</tt></dd></dl>
 <dl><dt><a name="-newfile"><strong>newfile</strong></a>(filename_prefix)</dt><dd><tt>#&nbsp;creates&nbsp;a&nbsp;new&nbsp;datafile&nbsp;name&nbsp;based&nbsp;on&nbsp;a&nbsp;prefix.&nbsp;For&nbsp;example,&nbsp;if&nbsp;"scandata.1"&nbsp;exists,<br>
#&nbsp;"newfile&nbsp;scandata"&nbsp;will&nbsp;set&nbsp;the&nbsp;datafile_name&nbsp;to&nbsp;"scandata.2"</tt></dd></dl>
 <dl><dt><a name="-nowfile"><strong>nowfile</strong></a>()</dt><dd><tt>#returns&nbsp;the&nbsp;current&nbsp;datafile&nbsp;name</tt></dd></dl>
 <dl><dt><a name="-peakScan"><strong>peakScan</strong></a>(motcode, counter_num)</dt><dd><tt>#do&nbsp;a&nbsp;peak&nbsp;scan&nbsp;of&nbsp;one&nbsp;motor&nbsp;optimizing&nbsp;on&nbsp;counter_num</tt></dd></dl>
 <dl><dt><a name="-print_counts"><strong>print_counts</strong></a>()</dt></dl>
 <dl><dt><a name="-pvClose"><strong>pvClose</strong></a>(pv)</dt></dl>
 <dl><dt><a name="-pvCreate"><strong>pvCreate</strong></a>(pvname)</dt></dl>
 <dl><dt><a name="-pvGet"><strong>pvGet</strong></a>(pv)</dt></dl>
 <dl><dt><a name="-pvPut"><strong>pvPut</strong></a>(pv, val)</dt></dl>
 <dl><dt><a name="-read_db"><strong>read_db</strong></a>()</dt></dl>
 <dl><dt><a name="-ri"><strong>ri</strong></a>()</dt></dl>
 <dl><dt><a name="-set_any_epics_pv"><strong>set_any_epics_pv</strong></a>(pv_prefix, field_name, value)</dt><dd><tt>#convenience&nbsp;to&nbsp;set&nbsp;a&nbsp;pv&nbsp;value&nbsp;given&nbsp;the&nbsp;name</tt></dd></dl>
 <dl><dt><a name="-set_count_time"><strong>set_count_time</strong></a>(time_to_count)</dt></dl>
 <dl><dt><a name="-set_scan_absolute"><strong>set_scan_absolute</strong></a>(motcode)</dt></dl>
 <dl><dt><a name="-set_scan_after_before_scan"><strong>set_scan_after_before_scan</strong></a>(motcode)</dt></dl>
 <dl><dt><a name="-set_scan_after_end"><strong>set_scan_after_end</strong></a>(motcode)</dt></dl>
 <dl><dt><a name="-set_scan_after_peak"><strong>set_scan_after_peak</strong></a>(motcode)</dt></dl>
 <dl><dt><a name="-set_scan_after_start"><strong>set_scan_after_start</strong></a>(motcode)</dt></dl>
 <dl><dt><a name="-set_scan_fly"><strong>set_scan_fly</strong></a>(motcode)</dt></dl>
 <dl><dt><a name="-set_scan_linear"><strong>set_scan_linear</strong></a>(motcode)</dt></dl>
 <dl><dt><a name="-set_scan_reference_counter"><strong>set_scan_reference_counter</strong></a>(counter_number)</dt></dl>
 <dl><dt><a name="-set_scan_relative"><strong>set_scan_relative</strong></a>(motcode)</dt></dl>
 <dl><dt><a name="-set_scanend"><strong>set_scanend</strong></a>(motcode, posn)</dt></dl>
 <dl><dt><a name="-set_scanpoints"><strong>set_scanpoints</strong></a>(motcode, numpoints)</dt></dl>
 <dl><dt><a name="-set_scanstart"><strong>set_scanstart</strong></a>(motcode, posn)</dt></dl>
 <dl><dt><a name="-set_scanstepsize"><strong>set_scanstepsize</strong></a>(motcode, stepsize)</dt></dl>
 <dl><dt><a name="-sp"><strong>sp</strong></a>(motcode, posn)</dt></dl>
 <dl><dt><a name="-stop_motors"><strong>stop_motors</strong></a>()</dt></dl>
 <dl><dt><a name="-stop_scan"><strong>stop_scan</strong></a>()</dt></dl>
 <dl><dt><a name="-wait_for_scan"><strong>wait_for_scan</strong></a>()</dt></dl>
 <dl><dt><a name="-waveform_to_string"><strong>waveform_to_string</strong></a>(wave)</dt></dl>
</td></tr></table><p>
</body></html>
